<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Teacher Dashboard | Smart Attendance</title>
    <link rel="stylesheet" href="Teacher dashboard.css" />
</head>

<body>
    <header class="main-header">
        <div class="profile">
            <img src="tab4.png" alt="Smart Attendance Logo" class="profile-logo" />
            <span class="app-name">Smart Attendance</span>
        </div>
    </header>

    <nav class="sidebar">
        <h2 class="sidebar-title">Smart Attendance</h2>
        <ul>
            <li><a href="#" id="dashboardLink" class="active">ğŸ  Dashboard</a></li>
            <li><a href="teacher-attendance.html" id="attendanceLink">ğŸ“‹ Attendance</a></li>
            <li><a href="#" id="studentsLink">ğŸ‘©â€ğŸ“ Students</a></li>
            <li><a href="#" id="classesLink">ğŸ“š Classes</a></li>
            <li><a href="#" id="reportsLink">ğŸ“ Reports</a></li>
            <li><a href="#" id="announcementsLink">ğŸ“¢ Announcements</a></li>
            <li><a href="#" id="settingsLink">âš™ï¸ Settings</a></li>
            <li><a href="home2.html" id="logoutLink">ğŸšª Logout</a></li>
        </ul>
    </nav>

    <main class="main-content">
        <section id="dashboardSection" class="dashboard-section active-section">
            <h1 class="section-title">Teacher Dashboard</h1>

            <div class="timestamp">
                <p id="attendanceTime">ğŸ“… Date & Time: Not marked yet</p>
            </div>

            <div class="dashboard-stats">
                <div class="stat-card total-students-card">
                    <h3>Total Students</h3>
                    <div class="stat-number total-students-num">50</div>
                </div>

                <div class="stat-card today-attendance-card">
                    <h3>Today Attendance</h3>
                    <div class="attendance-summary">
                        <div class="attendance-item present">
                            <span>Present</span>
                            <div class="stat-number present-num">36</div>
                        </div>
                        <div class="attendance-item absent">
                            <span>Absent</span>
                            <div class="stat-number absent-num">14</div>
                        </div>
                    </div>
                </div>

                <div class="stat-card alert-card">
                    <h3>Alert</h3>
                    <h4>Low Attendance</h4>
                    <div class="stat-number low-attendance-num">6</div>
                </div>
            </div>

            <div class="camera-section">
                <h2>Take Attendance via Camera</h2>
                <div class="camera-upload-area">
                    <img id="preview" alt="Your photo will appear here" class="camera-preview" />
                    <label for="cameraInput" class="camera-btn">ğŸ“· Open Camera</label>
                    <input type="file" id="cameraInput" accept="image/*" capture="user" />
                    <small>Take a photo or upload (JPG, JPEG, PNG)</small>
                </div>
            </div>
        </section>
        <!-- Camera section khatam hone ke turant niche: -->
        <div class="ai-summary-card"
            style="max-width:480px; margin:30px auto 0 auto; background:#fff6ff; border-radius:16px; box-shadow:0 4px 16px #e7d0fa81; padding:32px 18px; text-align:center;">
            <h3 style="color:#722ec8;">AI Attendance Summary</h3>
            <div id="ai-summary-text" style="min-height:40px; color:#4d4d4d; margin-bottom:18px;">
                Click "Summarize Attendance" to get a smart attendance summary.
            </div>
            <button id="summarizeBtn" class="camera-btn"
                style="background:#9444cd; width:90%; max-width:330px; margin:auto;display:block;">Summarize
                Attendance</button>
        </div>
        

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const summarizeBtn = document.getElementById('summarizeBtn');
            const summaryText = document.getElementById('ai-summary-text');

            if (summarizeBtn) {
                summarizeBtn.addEventListener('click', () => {
                    const total = document.querySelector('.total-students-num')?.textContent || "0";
                    const present = document.querySelector('.present-num')?.textContent || "0";
                    const absent = document.querySelector('.absent-num')?.textContent || "0";

                    const percent = Math.round((parseInt(present) / parseInt(total)) * 100);

                    // Different AI style summary templates
                    let templates = [];
                    if (percent >= 90) {
                        templates = [
                            `ğŸ”¥ Fantastic! Todayâ€™s attendance rate is <b>${percent}%</b> with only ${absent} students absent. Phenomenal discipline!`,
                            `ğŸ‘ Superb! Only ${absent} students missed out. This class is setting a great example.`,
                            `ğŸ˜Š Excellent turnout - keep supporting each other. Attendance: <b>${present}/${total}</b>.`
                        ];
                    } else if (percent >= 75) {
                        templates = [
                            `ğŸ‘ Good attendance today (<b>${percent}%</b>), ${absent} students were absent. Maybe send a reminder!`,
                            `â³ Decent turnout, but ${absent} could improve! Stay motivated, class!`,
                            `âš¡ Attendance is <b>${percent}%</b>. Let's push for even better next time!`
                        ];
                    } else {
                        templates = [
                            `âš ï¸ Attention needed! Only ${present} out of ${total} present (${percent}%). Low attendance trend. Please address.`,
                            `ğŸ“‰ Low attendance alert! Only ${percent}% turnout. Absentees: <b>${absent}</b>. Maybe discuss reasons with students.`,
                            `ğŸ§ Attendance is <b>${percent}%</b>. Please check in with absentees and encourage regular class.`
                        ];
                    }
                    const summary = templates[Math.floor(Math.random() * templates.length)];
                    summaryText.innerHTML = summary;
                });
            }
        });
    </script>

    <section id="manualAttendanceSection" class="manual-attendance-section hidden">
        <h2 class="section-title">Mark Attendance (Manually)</h2>
            <div class="manual-attendance-table-container">
                <table>
                    <caption>Quickly mark attendance for individual students</caption>
                    <thead>
                        <tr>
                            <th>Roll No</th>
                            <th>Name</th>
                            <th>Attendance</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>01</td>
                            <td>Aryan Sharma</td>
                            <td>
                                <label><input type="radio" name="Aryan" value="Present" /> Present</label>
                                <label><input type="radio" name="Aryan" value="Absent" /> Absent</label>
                            </td>
                        </tr>
                        <tr>
                            <td>02</td>
                            <td>Nirmal Singh</td>
                            <td>
                                <label><input type="radio" name="Nirmal" value="Present" /> Present</label>
                                <label><input type="radio" name="Nirmal" value="Absent" /> Absent</label>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <section id="studentsSection" class="content-section hidden">
            <h2 class="section-title">Students List</h2>
            <p>Content for Students goes here...</p>
        </section>
        <section id="classesSection" class="content-section hidden">
            <h2 class="section-title">Classes Management</h2>
            <p>Content for Classes goes here...</p>
        </section>
        <section id="reportsSection" class="content-section hidden">
            <h2 class="section-title">Attendance Reports</h2>
            <p>Content for Reports goes here...</p>
        </section>
        <section id="announcementsSection" class="content-section hidden">
            <h2 class="section-title">Announcements</h2>
            <p>Content for Announcements goes here...</p>
        </section>
        <section id="settingsSection" class="content-section hidden">
            <h2></h2>Settings</h2>
            <p>Content for Settings goes here...</p>
        </section>

    </main>

    <div id="subjectModal" class="modal-overlay hidden">
        <div class="modal-content">
            <h3>Select Subject</h3>
            <select id="subjectSelect">
                <option disabled selected>-- Choose Subject --</option>
                <option value="Math">Math</option>
                <option value="Science">Science</option>
                <option value="History">History</option>
            </select>
            <button id="continueSubjectBtn" class="close-btn">Continue</button>
        </div>
    </div>




    <script src="teacher-dasboard.js"></script>
</body>

</html>